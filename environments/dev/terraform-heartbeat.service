# Terraform State Lock Heartbeat Service
# Place this file in /etc/systemd/system/ (Linux) or adapt for your system

[Unit]
Description=Terraform State Lock Heartbeat Monitor
After=network.target
Wants=network.target

[Service]
Type=simple
User=terraform
Group=terraform
WorkingDirectory=/Users/devinda/VS/sem-5-project/terraform-infra/environments/dev
ExecStart=/Users/devinda/VS/sem-5-project/terraform-infra/environments/dev/heartbeat-monitor.sh --daemon
Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal

# Environment variables
Environment=AWS_REGION=us-east-1
Environment=TABLE_NAME=terraform-state-locks

# Security settings
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/var/log

[Install]
WantedBy=multi-user.target